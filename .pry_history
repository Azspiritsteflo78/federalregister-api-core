search.filters
filter = search.filters.first
filter.label
filter.value
filter.condition
exit
search.filters
search.filters.first.value.length
search.filters.first.value.is_array?
search.filters.first.value.is_a?(Array)
exit
filter
filter.condition
filter.name
search.filters
exit;exit
options
exit
exit;exit
exit
search.filters
exit
vals
val
options
exit;exit
search.filters
exit
filter
exit
search.filters
exit;exit
filter
hash
hsh
condition
filters
exit;exit
exit
filters.map.each_with_object(Hash.new){|filter,hsh|
  hsh[condition] ||= []
  hsh[condition] << {
    name: filter.name,
    value: filter.value.first
  }
  hsh
}
search.filters.group_by(&:condition).each do |condition, filters|
  filters.map.each_with_object(Hash.new){|filter,hsh|
    hsh[condition] ||= []
    hsh[condition] << {
      name: filter.name,
      value: filter.value.first
    }
    hsh
  }
end
exit
filters.map.each_with_object(Hash.new){|filter,hsh|
  hsh[condition] ||= []
  hsh[condition] << {
    name: filter.name,
    value: filter.value.first
  }
  hsh
}
exit
condition
filters
exit;exit
condition
filters
hsh
exit;exit
data
data.to_json
exit
options
options[:value]
options[:value].is_a?(Array)
options[:value].is_a?(Range)
exit;exit
search.filters
exit;exit
filter
filter.multi
exit
filter
exit
search.filters
filter
exit
filter
filter.multi
exit
filter
exit
filter
exit
filter
exit
params[:upload][:csv_file]
params[:upload][:csv_file].methods - Object.methods
params[:upload][:csv_file].extensions
params[:upload][:csv_file].extension
params[:upload][:csv_file].filename
params[:upload][:csv_file].class
params[:upload][:csv_file].original_filename
params[:upload][:csv_file].original_filename.split.last
params[:upload][:csv_file].original_filename.split('.').last
params[:upload][:csv_file].original_filename.split('.').last == "csv"
exit
